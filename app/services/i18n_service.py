from __future__ import annotations

from typing import Dict


_MESSAGES_EN: Dict[str, str] = {
    "nav_home": "Home",
    "nav_features": "Features",
    "nav_testimonials": "Testimonials",
    "nav_pricing": "Pricing",
    "nav_dashboard": "Dashboard",
    "nav_proof": "Proof",
    "nav_manual": "Manual",
    "nav_reports": "Reports",
    "nav_proof_center": "Proof Center",
    "nav_daily_reports": "Daily Reports",
    "nav_profile": "Profile",
    "nav_settings": "Settings",
    "nav_ui_language": "UI Language",
    "nav_sign_out": "Sign Out",
    "nav_sign_in": "Sign In",
    "nav_get_started": "Get Started",
    "sidebar_menu": "Menu",
    "sidebar_sites": "Sites",
    "sidebar_approvals": "Approvals",
    "sidebar_settings": "Settings",
    "sidebar_proof_center": "Proof Center",
    "sidebar_manual": "Manual",
    "sidebar_daily_reports": "Daily Reports",
    "sidebar_billing": "Billing",
    "sidebar_logged_in_as": "Logged in as",
    "sidebar_guest": "Guest",
    "dashboard_title": "Customer Operations Dashboard",
    "dashboard_subtitle": "Run customer outcomes in order: activation, billing, deployment, proof, and daily reporting.",
    "dashboard_open_manual": "Open Manual",
    "dashboard_open_daily_reports": "Daily Reports",
    "dashboard_add_site": "Add New Site",
    "dashboard_journey_flow": "Journey Flow",
    "dashboard_step1_activation": "Activation",
    "dashboard_step1_hint": "Signup + global UI language",
    "dashboard_step2_site_install": "Site & Install",
    "dashboard_step2_hint": "URL onboarding + physical deployment",
    "dashboard_step3_billing": "Billing",
    "dashboard_step3_hint": "Plan and quota operation",
    "dashboard_step4_proof_kpi": "Proof KPI",
    "dashboard_step4_hint": "ACR/Citation/Assist",
    "dashboard_step5_approvals": "Approvals",
    "dashboard_step5_hint": "Governed workflow",
    "dashboard_step6_visibility": "Visibility",
    "dashboard_step6_hint": "Crawler visibility signals",
    "dashboard_step7_daily_pdf": "Daily PDF",
    "dashboard_step7_hint": "Stakeholder sharing",
    "dashboard_step1_title": "Activation & Global Workspace Language",
    "dashboard_step1_subtitle": "Language selection applies to the whole GhostLink UI, not individual sites.",
    "dashboard_manual_detail": "Manual Detail",
    "dashboard_global_ui_language": "Global UI Language",
    "dashboard_ui_language_hint": "Selecting a language immediately saves and applies to the whole GhostLink UI.",
    "dashboard_ui_language_resolved": "Resolved UI language",
    "dashboard_step2_title": "Site Registration & Physical Integration",
    "dashboard_step2_subtitle": "After registration, deploy once via shared template/GTM or static index.html.",
    "dashboard_integration_guide": "Integration Guide",
    "dashboard_total_sites": "Total Sites",
    "dashboard_active": "Active",
    "dashboard_pending": "Pending",
    "dashboard_failed": "Failed",
    "dashboard_pending_inbox_title": "Pending Approval Inbox & Change Governance",
    "dashboard_step7_title": "Daily PDF Report Delivery",
    "dashboard_step7_subtitle": "Download date-based PDF reports for end-user and stakeholder sharing.",
    "dashboard_download_today_pdf": "Download Today PDF",
}


_MESSAGES_KO: Dict[str, str] = {
    "nav_home": "홈",
    "nav_features": "기능",
    "nav_testimonials": "고객 후기",
    "nav_pricing": "요금",
    "nav_dashboard": "대시보드",
    "nav_proof": "효용 증명",
    "nav_manual": "매뉴얼",
    "nav_reports": "리포트",
    "nav_proof_center": "Proof Center",
    "nav_daily_reports": "일일 리포트",
    "nav_profile": "프로필",
    "nav_settings": "설정",
    "nav_ui_language": "UI 언어",
    "nav_sign_out": "로그아웃",
    "nav_sign_in": "로그인",
    "nav_get_started": "시작하기",
    "sidebar_menu": "메뉴",
    "sidebar_sites": "사이트",
    "sidebar_approvals": "승인",
    "sidebar_settings": "설정",
    "sidebar_proof_center": "Proof Center",
    "sidebar_manual": "매뉴얼",
    "sidebar_daily_reports": "일일 리포트",
    "sidebar_billing": "요금제",
    "sidebar_logged_in_as": "로그인 계정",
    "sidebar_guest": "게스트",
    "dashboard_title": "고객 운영 대시보드",
    "dashboard_subtitle": "활성화, 결제, 설치, 효용 증명, 일일 보고를 고객 여정 순서대로 운영합니다.",
    "dashboard_open_manual": "매뉴얼 열기",
    "dashboard_open_daily_reports": "일일 리포트",
    "dashboard_add_site": "새 사이트 추가",
    "dashboard_journey_flow": "고객 여정 흐름",
    "dashboard_step1_activation": "활성화",
    "dashboard_step1_hint": "가입 + 전역 UI 언어",
    "dashboard_step2_site_install": "사이트/설치",
    "dashboard_step2_hint": "URL 등록 + 물리 적용",
    "dashboard_step3_billing": "요금제",
    "dashboard_step3_hint": "플랜/한도 운영",
    "dashboard_step4_proof_kpi": "Proof KPI",
    "dashboard_step4_hint": "ACR/인용/기여",
    "dashboard_step5_approvals": "승인",
    "dashboard_step5_hint": "거버넌스 워크플로우",
    "dashboard_step6_visibility": "가시성",
    "dashboard_step6_hint": "크롤러 노출 신호",
    "dashboard_step7_daily_pdf": "일일 PDF",
    "dashboard_step7_hint": "이해관계자 공유",
    "dashboard_step1_title": "활성화 및 전역 워크스페이스 언어",
    "dashboard_step1_subtitle": "언어 선택은 사이트별이 아니라 GhostLink 전체 UI에 적용됩니다.",
    "dashboard_manual_detail": "매뉴얼 상세",
    "dashboard_global_ui_language": "전역 UI 언어",
    "dashboard_ui_language_hint": "언어를 선택하면 즉시 저장되고 GhostLink 전체 UI에 반영됩니다.",
    "dashboard_ui_language_resolved": "적용 UI 언어",
    "dashboard_step2_title": "사이트 등록 및 물리적 설치",
    "dashboard_step2_subtitle": "사이트 등록 후 공통 템플릿/GTM 또는 정적 index.html에 1회 적용합니다.",
    "dashboard_integration_guide": "설치 가이드",
    "dashboard_total_sites": "전체 사이트",
    "dashboard_active": "활성",
    "dashboard_pending": "대기",
    "dashboard_failed": "실패",
    "dashboard_pending_inbox_title": "승인 대기함 및 변경 거버넌스",
    "dashboard_step7_title": "일일 PDF 보고서 배포",
    "dashboard_step7_subtitle": "날짜별 PDF를 내려받아 최종 이용자/이해관계자에게 공유합니다.",
    "dashboard_download_today_pdf": "오늘 PDF 다운로드",
}


def _canonical_lang(language_code: str | None) -> str:
    code = (language_code or "").strip().lower()
    if code.startswith("ko"):
        return "ko"
    return "en"


def get_i18n_messages(language_code: str | None) -> Dict[str, str]:
    lang = _canonical_lang(language_code)
    if lang == "ko":
        merged = dict(_MESSAGES_EN)
        merged.update(_MESSAGES_KO)
        return merged
    return dict(_MESSAGES_EN)
